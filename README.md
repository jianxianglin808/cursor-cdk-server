# ğŸš€ Cursoræ’ä»¶100%å…¼å®¹äº‘ç«¯æœåŠ¡å™¨

åŸºäºç«¯åˆ°ç«¯APIæ€»ç»“æŠ¥å‘Šå’ŒNONCEæœºåˆ¶å®Œå…¨ç ´è§£æŠ¥å‘Šçš„ç²¾ç¡®æ•°æ®ï¼Œç¡®ä¿ä¸extension.jsæ’ä»¶100%å…¼å®¹çš„Verceläº‘ç«¯æœåŠ¡å™¨å®ç°ã€‚

## ğŸ“‹ **é¡¹ç›®æ¦‚è¿°**

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ã€å¯ç›´æ¥éƒ¨ç½²çš„Cursoræ’ä»¶æœåŠ¡å™¨ï¼Œæä¾›ï¼š

- âœ… **9ä¸ªæ ¸å¿ƒAPIç«¯ç‚¹** - 100%åŒ¹é…åŸç‰ˆå‚æ•°å’Œå“åº”æ ¼å¼
- âœ… **ä¸‰å¯†é’¥ä½“ç³»** - HMACç­¾å + AES-CBC-256åŠ å¯† + Node.js AES-CTR-256
- âœ… **CDKæ¿€æ´»ç³»ç»Ÿ** - æ”¯æŒ8ç§CDKç±»å‹ï¼ŒProç‰ˆå…é­”æ³•åŠŸèƒ½
- âœ… **è®¾å¤‡ç»‘å®šç®¡ç†** - æ¯ä¸ªCDKæœ€å¤šç»‘å®š2å°è®¾å¤‡
- âœ… **ç§¯åˆ†ç³»ç»Ÿ** - å®Œæ•´çš„ç§¯åˆ†æŸ¥è¯¢å’Œæ¶ˆè€—æœºåˆ¶
- âœ… **ç®¡ç†åå°** - å¯†é’¥ç®¡ç†å’Œå†…å®¹ç¼–è¾‘åŠŸèƒ½
- âœ… **Verceléƒ¨ç½²** - Serverlessæ¶æ„ï¼Œè‡ªåŠ¨æ‰©å®¹

## ğŸŒ **åœ¨çº¿æ¼”ç¤º**

- **æœåŠ¡å™¨åœ°å€**: [https://cursor-cdk-server.vercel.app/](https://cursor-cdk-server.vercel.app/)
- **ç®¡ç†åå°**: [https://cursor-cdk-server.vercel.app/admin](https://cursor-cdk-server.vercel.app/admin)

## ğŸ” **å®‰å…¨ç‰¹æ€§**

### **ä¸‰å¯†é’¥ä½“ç³»**
```bash
HMAC_KEY    # HMAC-SHA256ç­¾åéªŒè¯ (æ‰€æœ‰ç«¯ç‚¹é€šç”¨)
WEB_AES_KEY # AES-CBC-256å“åº”è§£å¯† (å‰ç«¯ä½¿ç”¨)
NODE_AES_KEY # AES-CTR-256æ•°æ®åŠ å¯† (åç«¯ä½¿ç”¨)
```

### **å¤šå±‚å®‰å…¨ä¿æŠ¤**
- ğŸ” **ç­¾åéªŒè¯**: HMAC-SHA256é˜²ç¯¡æ”¹
- ğŸ” **æ•°æ®åŠ å¯†**: AES-CBC-256å“åº”åŠ å¯†
- â° **æ—¶é—´æˆ³éªŒè¯**: 20ç§’åç§»é˜²é‡æ”¾
- ğŸ›¡ï¸ **æƒé™æ§åˆ¶**: CDKç±»å‹æƒé™åˆ†çº§
- ğŸ“Š **ç¼“å­˜é˜²æŠ¤**: Redisç­¾åé˜²é‡æ”¾

## ğŸ¯ **CDKç±»å‹æ”¯æŒ**

| CDKç±»å‹ | æ—¶é•¿ | è´¦å·æ•° | ç§¯åˆ† | å…é­”æ³• | CursorMax |
|---------|------|--------|------|--------|-----------|
| **DAYPRO** | 1å¤© | 5ä¸ª | 500 | âœ… | âŒ |
| **WEEKPRO** | 7å¤© | 35ä¸ª | 3500 | âœ… | âŒ |
| **MONTHPRO** | 30å¤© | 150ä¸ª | 15000 | âœ… | âœ… |
| **QUARTERPRO** | 90å¤© | 450ä¸ª | 45000 | âœ… | âœ… |
| **YEARPRO** | 365å¤© | 1800ä¸ª | 180000 | âœ… | âœ… |
| **DAY** | 1å¤© | 5ä¸ª | 500 | âŒ | âŒ |
| **WEEK** | 7å¤© | 35ä¸ª | 3500 | âŒ | âŒ |
| **MONTH** | 30å¤© | 150ä¸ª | 15000 | âŒ | âœ… |
| **QUARTER** | 90å¤© | 450ä¸ª | 45000 | âŒ | âœ… |

## ğŸŒ **APIç«¯ç‚¹æ¸…å•**

| ç«¯ç‚¹ | åŠŸèƒ½ | åè®® | çŠ¶æ€ |
|------|------|------|------|
| `/api/get_settings` | ç³»ç»Ÿè®¾ç½®è·å– | HTTPS | âœ… |
| `/api/activate` | CDKæ¿€æ´» | HTTPS | âœ… |
| `/api/get_points` | ç§¯åˆ†æŸ¥è¯¢ | HTTPS | âœ… |
| `/api/get_code` | æ–‡ä»¶å“ˆå¸ŒéªŒè¯ | HTTPS | âœ… |
| `/api/get_restore_code` | åœç”¨æ’ä»¶ | HTTPS | âœ… |
| `/api/unbind_device` | è§£ç»‘è®¾å¤‡ | HTTPS | âœ… |
| `/api/toggle_magic_free_mode` | å…é­”æ³•åˆ‡æ¢ | HTTPS | âœ… |
| `/api/get_max_config` | CursorMaxé…ç½® | HTTPS | âœ… |
| `/api/get_auth` | AIå¯¹è¯æˆæƒ | HTTP | âœ… |

## ğŸš€ **å¿«é€Ÿå¼€å§‹**

### **1. å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/yourusername/cursor-server-vercel.git
cd cursor-server-vercel
```

### **2. å®‰è£…ä¾èµ–**
```bash
npm install
```

### **3. é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp env.example .env.local
# ç¼–è¾‘ .env.local é…ç½®ä½ çš„å¯†é’¥å’Œæ•°æ®åº“è¿æ¥
```

### **4. åˆå§‹åŒ–æ•°æ®åº“**
```bash
npm run db:init
```

### **5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€ã€‚

## ğŸ“¦ **Verceléƒ¨ç½²**

### **ä¸€é”®éƒ¨ç½²**
[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/yourusername/cursor-server-vercel)

### **æ‰‹åŠ¨éƒ¨ç½²**

1. **Fork æœ¬ä»“åº“**
2. **ç™»å½• [Vercel Dashboard](https://vercel.com/dashboard)**
3. **å¯¼å…¥ GitHub é¡¹ç›®**
4. **é…ç½®ç¯å¢ƒå˜é‡**:
   ```bash
   HMAC_KEY=9c5f66da591ea9f793959ec358abe1c14989d13642dcd92272e9f02a9811993e
   WEB_AES_KEY=bcfd1f8dd31c6917b714b38dbf5c87e533831f1c151320a3b172ad082041b072
   NODE_AES_KEY=b065e8b242c7b887a9e06618e37f7f3b4930f5804ec115d4410017214e04aeff
   POSTGRES_URL=your_postgres_connection_string
   KV_URL=your_redis_connection_string
   ```
5. **éƒ¨ç½²å®Œæˆ**

## ğŸ—„ï¸ **æ•°æ®åº“é…ç½®**

### **Vercel Postgres**
```bash
# æ·»åŠ  PostgreSQL æ•°æ®åº“
vercel env add POSTGRES_URL
```

### **Vercel KV Redis**
```bash
# æ·»åŠ  Redis ç¼“å­˜
vercel env add KV_URL
```

### **æ•°æ®åº“ç®¡ç†**
```bash
# æ•°æ®åº“åˆå§‹åŒ–
npm run db:init

# å¥åº·çŠ¶æ€æ£€æŸ¥
npm run db:health

# å®Œæ•´æ•°æ®åº“è®¾ç½®
npm run db:setup
```

## ğŸ”§ **ç®¡ç†åå°**

è®¿é—® `/admin` è·¯å¾„ä½¿ç”¨ç®¡ç†åå°ï¼š

### **åŠŸèƒ½ç‰¹æ€§**
- ğŸ” **å¯†é’¥ç®¡ç†**: ä¿®æ”¹ä¸‰å¯†é’¥ä½“ç³»
- ğŸ“ **å†…å®¹ç¼–è¾‘**: ç¼–è¾‘å¹¿å‘Šå’Œæç¤ºå†…å®¹
- ğŸ“Š **æ•°æ®åº“çŠ¶æ€**: å®æ—¶ç›‘æ§æ•°æ®åº“å¥åº·
- ğŸ”„ **ç³»ç»Ÿåˆå§‹åŒ–**: Webç«¯æ•°æ®åº“åˆå§‹åŒ–

### **é»˜è®¤ç™»å½•**
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123456`

> âš ï¸ **å®‰å…¨æé†’**: ç”Ÿäº§ç¯å¢ƒè¯·ä¿®æ”¹é»˜è®¤å¯†ç ï¼

## ğŸ§ª **æµ‹è¯•éªŒè¯**

### **APIç«¯ç‚¹æµ‹è¯•**
```bash
# æµ‹è¯•æ‰€æœ‰ç«¯ç‚¹
node scripts/test-endpoints.js
```

### **æ•°æ®åº“å¥åº·æ£€æŸ¥**
```bash
npm run db:health
```

### **ç­¾åéªŒè¯æµ‹è¯•**
```javascript
// ä½¿ç”¨ç›¸åŒçš„ç­¾åç®—æ³•éªŒè¯å…¼å®¹æ€§
const params = { cdk: 'TEST-1234', timestamp: Date.now() };
const signature = generateSignature(params);
```

## ğŸ“Š **é¡¹ç›®ç»“æ„**

```
cursor-server-vercel/
â”œâ”€â”€ ğŸ“ components/admin/     # ç®¡ç†åå°ç»„ä»¶
â”œâ”€â”€ ğŸ“ lib/                  # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ ğŸ“ pages/api/            # APIç«¯ç‚¹
â”œâ”€â”€ ğŸ“ public/               # é™æ€èµ„æº
â”œâ”€â”€ ğŸ“ scripts/              # ç®¡ç†è„šæœ¬
â”œâ”€â”€ ğŸ“„ package.json          # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ ğŸ“„ vercel.json           # Vercelé…ç½®
â”œâ”€â”€ ğŸ“„ next.config.js        # Next.jsé…ç½®
â””â”€â”€ ğŸ“„ README.md             # é¡¹ç›®æ–‡æ¡£
```

## ğŸ” **æ ¸å¿ƒæ–‡ä»¶è¯´æ˜**

### **åŠ å¯†ç®—æ³•å®ç°**
- `lib/signature.js` - HMAC-SHA256ç­¾åç®—æ³•
- `lib/nonce.js` - NONCEç”Ÿæˆå’ŒAESåŠ å¯†
- `lib/constants.js` - ä¸‰å¯†é’¥ä½“ç³»é…ç½®

### **ä¸šåŠ¡é€»è¾‘**
- `lib/cdk-manager.js` - CDKç®¡ç†å’Œæƒé™éªŒè¯
- `lib/database.js` - æ•°æ®åº“æ“ä½œå’Œç¼“å­˜

### **APIç«¯ç‚¹**
- `pages/api/*.js` - 9ä¸ªæ ¸å¿ƒAPIç«¯ç‚¹
- `pages/api/admin/*.js` - ç®¡ç†åå°API

## âš¡ **æ€§èƒ½æŒ‡æ ‡**

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| **å“åº”æ—¶é—´** | < 1.5s | å¤§éƒ¨åˆ†APIç«¯ç‚¹ |
| **å¹¶å‘æ”¯æŒ** | 50+ | å¯é…ç½®é™åˆ¶ |
| **æ•°æ®åº“æŸ¥è¯¢** | < 100ms | PostgreSQLå¹³å‡ |
| **ç¼“å­˜å‘½ä¸­** | > 90% | Redisç¼“å­˜ |
| **å¯ç”¨æ€§** | 99.9% | Vercel SLA |

## ğŸ›¡ï¸ **å®‰å…¨æœ€ä½³å®è·µ**

### **å¯†é’¥ç®¡ç†**
- ğŸ” å®šæœŸæ›´æ–°ä¸‰å¯†é’¥ä½“ç³»
- ğŸ”’ ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- ğŸ›¡ï¸ å¯ç”¨Vercelç¯å¢ƒå˜é‡åŠ å¯†

### **è®¿é—®æ§åˆ¶**
- ğŸ”‘ ç®¡ç†åå°JWTè®¤è¯
- â° è¯·æ±‚æ—¶é—´æˆ³éªŒè¯
- ğŸš« ç­¾åé˜²é‡æ”¾æ”»å‡»

### **æ•°æ®ä¿æŠ¤**
- ğŸ” AES-256åŠ å¯†ä¼ è¾“
- ğŸ“Š æ“ä½œæ—¥å¿—è®°å½•
- ğŸ—„ï¸ æ•°æ®åº“è®¿é—®æ§åˆ¶

## ğŸ”„ **ç‰ˆæœ¬æ›´æ–°**

### **æ›´æ–°æµç¨‹**
1. Fork æœ€æ–°ç‰ˆæœ¬
2. åˆå¹¶è‡ªå®šä¹‰ä¿®æ”¹
3. æ›´æ–°ç¯å¢ƒå˜é‡
4. é‡æ–°éƒ¨ç½²åˆ°Vercel

### **ç‰ˆæœ¬å†å²**
- **v1.0.0** - åˆå§‹ç‰ˆæœ¬ï¼Œ100%å…¼å®¹å®ç°
- **v1.1.0** - ç®¡ç†åå°åŠŸèƒ½
- **v1.2.0** - æ•°æ®åº“ä¼˜åŒ–

## ğŸ¤ **è´¡çŒ®æŒ‡å—**

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ **è®¸å¯è¯**

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ†˜ **æŠ€æœ¯æ”¯æŒ**

### **å¸¸è§é—®é¢˜**
- **Q**: å¦‚ä½•ä¿®æ”¹æœåŠ¡å™¨åœ°å€ï¼Ÿ
- **A**: ä¿®æ”¹å®¢æˆ·ç«¯é…ç½®ä¸­çš„æœåŠ¡å™¨URLå³å¯

- **Q**: CDKæ¿€æ´»å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
- **A**: æ£€æŸ¥CDKæ ¼å¼å’Œæ•°æ®åº“è¿æ¥çŠ¶æ€

- **Q**: å¦‚ä½•è‡ªå®šä¹‰CDKç±»å‹ï¼Ÿ
- **A**: ä¿®æ”¹ `lib/constants.js` ä¸­çš„ `CDK_TYPES` é…ç½®

### **è”ç³»æ–¹å¼**
- ğŸ“§ **é‚®ç®±**: support@example.com
- ğŸ’¬ **è®¨è®º**: GitHub Issues
- ğŸ“š **æ–‡æ¡£**: [Wikié¡µé¢](https://github.com/yourusername/cursor-server-vercel/wiki)

---

**ğŸ‰ æ„Ÿè°¢ä½¿ç”¨ Cursoræ’ä»¶100%å…¼å®¹äº‘ç«¯æœåŠ¡å™¨ï¼**

> åŸºäºç«¯åˆ°ç«¯APIæ€»ç»“æŠ¥å‘Šå’ŒNONCEæœºåˆ¶å®Œå…¨ç ´è§£æŠ¥å‘Šçš„ç²¾ç¡®æ•°æ®å®ç°ï¼Œç¡®ä¿ä¸åŸç‰ˆæ’ä»¶å®Œç¾å…¼å®¹ã€‚
